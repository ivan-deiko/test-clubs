(function(t){function e(e){for(var n,s,l=e[0],u=e[1],a=e[2],d=0,f=[];d<l.length;d++)s=l[d],Object.prototype.hasOwnProperty.call(r,s)&&r[s]&&f.push(r[s][0]),r[s]=0;for(n in u)Object.prototype.hasOwnProperty.call(u,n)&&(t[n]=u[n]);o&&o(e);while(f.length)f.shift()();return i.push.apply(i,a||[]),c()}function c(){for(var t,e=0;e<i.length;e++){for(var c=i[e],n=!0,l=1;l<c.length;l++){var u=c[l];0!==r[u]&&(n=!1)}n&&(i.splice(e--,1),t=s(s.s=c[0]))}return t}var n={},r={app:0},i=[];function s(e){if(n[e])return n[e].exports;var c=n[e]={i:e,l:!1,exports:{}};return t[e].call(c.exports,c,c.exports,s),c.l=!0,c.exports}s.m=t,s.c=n,s.d=function(t,e,c){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:c})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var c=Object.create(null);if(s.r(c),Object.defineProperty(c,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)s.d(c,n,function(e){return t[e]}.bind(null,n));return c},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="/test-clubs/";var l=window["webpackJsonp"]=window["webpackJsonp"]||[],u=l.push.bind(l);l.push=e,l=l.slice();for(var a=0;a<l.length;a++)e(l[a]);var o=u;i.push([0,"chunk-vendors"]),c()})({0:function(t,e,c){t.exports=c("56d7")},"44cc":function(t,e,c){"use strict";var n=c("addf"),r=c.n(n);r.a},"50d1":function(t,e,c){},"56d7":function(t,e,c){"use strict";c.r(e);c("e260"),c("e6cf"),c("cca6"),c("a79d");var n=c("2b0e"),r=function(){var t=this,e=t.$createElement,c=t._self._c||e;return c("div",{attrs:{id:"app"}},[t.clubLoad?c("div",{staticClass:"container"},[c("Selectors"),c("Search"),c("Clubs")],1):t._e()])},i=[],s=c("5530"),l=(c("50d1"),c("2f62")),u=c("ade3"),a=(c("d3b7"),c("bc3a")),o=c.n(a),d=o.a.create({baseURL:"https://instasport.co/dashboard/api/v1/"});d.interceptors.response.use((function(t){return t.data}),(function(t){return Promise.reject(t)}));var f,b,p,v,h={getClubs:function(){return d("clubs")}},y="SET_CLUBS",C="SET_SEARCH_TEXT",m="SET_LOADING",g=(f={},Object(u["a"])(f,y,(function(t,e){return t.clubs=e})),Object(u["a"])(f,C,(function(t,e){return t.searchText=e})),Object(u["a"])(f,m,(function(t){return t.clubLoad=!t.clubLoad})),f),_=(c("7db0"),c("4160"),c("159b"),"SET_SELECTED_CITY"),O="SET_CITIES",j=(b={},Object(u["a"])(b,_,(function(t,e){return t.selectedCity=e})),Object(u["a"])(b,O,(function(t,e){var c=e.data,n=[];c.forEach((function(t){var e=t.city;return n.find((function(t){return t.slug===e.slug}))?null:n.push(e)})),t.cities=n})),b),E="CHANGE_SELECTED_CITY",T="GET_CITIES",S=(p={},Object(u["a"])(p,T,{root:!0,handler:function(t,e){var c=t.commit;return c(O,e)}}),Object(u["a"])(p,E,(function(t,e){var c=t.commit;return c(_,e)})),p),x="GET_CLUBS",A="SEARCH",I=(v={},Object(u["a"])(v,x,(function(t){var e=t.commit,c=t.dispatch;return h.getClubs().then((function(t){e(y,t),e(m),c(T,{data:t},{root:!0})}))})),Object(u["a"])(v,A,(function(t,e){var c=t.commit;return c(C,e)})),v),L=function(){var t=this,e=t.$createElement,c=t._self._c||e;return t.CLUBS.length?c("ul",[c("transition-group",{staticClass:"list-clubs",attrs:{name:"fade"}},t._l(t.CLUBS,(function(t){return c("Club",{key:t.title,attrs:{club:t}})})),1)],1):c("div",{staticClass:"clubs-empty"},[t._v(" "+t._s(t.emptyClubText)+" ")])},k=[],$=(c("99af"),c("ac1f"),c("841c"),c("4de4"),c("caad"),c("2532"),function(t,e){return t.filter((function(t){var c=t.city;return c.slug===e}))}),w="CLUBS",P=Object(u["a"])({},w,(function(t,e,c){var n=c.cities.selectedCity,r=c.activity.selectedActivity,i=t.clubs;return(n||r)&&(i=n?$(i,n.slug):i,i=r?i.filter((function(t){var e=t.activity;return e.find((function(t){return t.slug===r.slug}))})):i),t.searchText?i.filter((function(e){var c=e.title;return c.includes(t.searchText)})):i})),N=function(){var t=this,e=t.$createElement,c=t._self._c||e;return c("li",{staticClass:"club"},[c("a",{staticClass:"club-container",attrs:{href:t.club.link,target:"_blank"}},[c("div",{staticClass:"club-logo"},[c("img",{attrs:{src:t.getLogo(t.club.logo),alt:t.club.title}})]),c("div",{staticClass:"club-details"},[c("ul",t._l(t.club.activity,(function(e){return c("li",{key:e.slug},[t._v(t._s(e.slug))])})),0)])]),c("span",{staticClass:"club-title"},[t._v(" "+t._s(t.club.title))])])},V=[],U=(c("a623"),{props:{club:{type:Object,required:!0,validator:function(t){return["link","logo","title","activity","city"].every((function(e){return t[e]}))}}},methods:{getLogo:function(t){return"https://instasport.co/dashboard/api/v1/clubs/"===t?c("7fe4"):t}}}),q=U,B=c("2877"),D=Object(B["a"])(q,N,V,!1,null,null,null),G=D.exports,H={computed:Object(s["a"])(Object(s["a"])(Object(s["a"])(Object(s["a"])({},Object(l["b"])("clubs",[w])),Object(l["c"])("cities",{selectedCity:function(t){var e;return null===(e=t.selectedCity)||void 0===e?void 0:e.title}})),Object(l["c"])("clubs",{search:function(t){return t.searchText}})),{},{emptyClubText:function(){return this.selectedCity?"В городе ".concat(this.selectedCity," не найден этот ").concat(this.search," клуб"):"".concat(this.search," клуб не найден!")}}),components:{Club:G}},M=H,Y=(c("44cc"),Object(B["a"])(M,L,k,!1,null,null,null)),R=Y.exports,J=function(){var t=this,e=t.$createElement,c=t._self._c||e;return c("div",{staticClass:"selectors"},[t.cities?c("Selector",{attrs:{list:t.cities,selected:t.selectedCity,className:"city",handlerClick:t.selectCity}}):t._e(),t.ACTIVITIES?c("Selector",{attrs:{list:t.ACTIVITIES,selected:t.selectedActivity,className:"activity",handlerClick:t.selectActivity}}):t._e()],1)},F=[],X="SET_SELECTED_ACTIVITY",z=Object(u["a"])({},X,(function(t,e){return t.selectedActivity=e})),K="CHANGE_SELECTED_ACTIVITY",Q=Object(u["a"])({},K,(function(t,e){var c=t.commit;return c(X,e)})),W="ACTIVITIES",Z=Object(u["a"])({},W,(function(t,e,c){var n=c.cities,r=c.clubs.clubs,i=[];if(r){var s=n.selectedCity?$(r,n.selectedCity.slug):r;return s.forEach((function(t){var e=t.activity;e.forEach((function(t){!i.find((function(e){return e.slug===t.slug}))&&i.push(t)}))})),i}})),tt=function(){var t=this,e=t.$createElement,c=t._self._c||e;return c("ul",{staticClass:"selector"},[t.selected?c("li",{staticClass:"selector-clear",on:{click:function(e){return t.handlerClick("")}}},[t._v(" × ")]):t._e(),t._l(t.list,(function(e){return c("li",{key:e.slug,class:t.className+(e.slug===t.selected?" "+t.className+"_activ":""),on:{click:function(c){return t.handlerClick(e)}}},[t._v(" "+t._s(e.title)+" ")])}))],2)},et=[],ct=c("53ca"),nt={props:{list:{type:Array,required:!0,validator:function(t){return t.every((function(t){return"object"===Object(ct["a"])(t)&&["slug","title"].every((function(e){return t[e]}))}))}},selected:{type:String,required:!0},className:{type:String,required:!0},handlerClick:{type:Function,required:!0}}},rt=nt,it=Object(B["a"])(rt,tt,et,!1,null,null,null),st=it.exports,lt={computed:Object(s["a"])(Object(s["a"])(Object(s["a"])({},Object(l["c"])("cities",{cities:function(t){return t.cities},selectedCity:function(t){return t.selectedCity.slug?t.selectedCity.slug:t.selectedCity}})),Object(l["c"])("activity",{selectedActivity:function(t){return t.selectedActivity.slug?t.selectedActivity.slug:t.selectedActivity}})),Object(l["b"])("activity",[W])),methods:{selectCity:function(t){this.$store.dispatch("cities/".concat(E),t),this.$store.dispatch("activity/".concat(K),""),this.$store.dispatch("clubs/".concat(A),null)},selectActivity:function(t){this.$store.dispatch("activity/".concat(K),t)}},components:{Selector:st}},ut=lt,at=Object(B["a"])(ut,J,F,!1,null,null,null),ot=at.exports,dt=function(){var t=this,e=t.$createElement,c=t._self._c||e;return c("div",{staticClass:"search"},[c("input",{attrs:{type:"text",placeholder:"поиск по названию клуба"},domProps:{value:t.defVal},on:{input:function(e){return t.search(e)}}})])},ft=[],bt={computed:Object(s["a"])({},Object(l["c"])("clubs/",{defVal:function(t){return t.searchText}})),methods:{search:function(t){var e=t.target;this.$store.dispatch("clubs/".concat(A),e.value)}}},pt=bt,vt=Object(B["a"])(pt,dt,ft,!1,null,null,null),ht=vt.exports,yt={computed:Object(s["a"])({},Object(l["c"])("clubs/",["clubLoad"])),mounted:function(){this.$store.dispatch("clubs/".concat(x))},components:{Clubs:R,Selectors:ot,Search:ht}},Ct=yt,mt=Object(B["a"])(Ct,r,i,!1,null,null,null),gt=mt.exports,_t={selectedActivity:""},Ot={namespaced:!0,state:_t,mutations:z,getters:Z,actions:Q},jt={clubs:null,searchText:null,clubLoad:!1},Et={namespaced:!0,state:jt,mutations:g,actions:I,getters:P},Tt={selectedCity:"",cities:null},St={namespaced:!0,state:Tt,mutations:j,actions:S};n["a"].use(l["a"]);var xt=new l["a"].Store({modules:{activity:Ot,clubs:Et,cities:St}});n["a"].config.productionTip=!1,new n["a"]({store:xt,render:function(t){return t(gt)}}).$mount("#app")},"7fe4":function(t,e,c){t.exports=c.p+"img/no-logo.1f251911.png"},addf:function(t,e,c){}});
//# sourceMappingURL=app.dc16b7a3.js.map